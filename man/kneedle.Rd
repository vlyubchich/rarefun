% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/kneedle.R
\name{kneedle}
\alias{kneedle}
\title{Detect Knee Point in a Curve Using the Kneedle Algorithm}
\usage{
kneedle(x, y, decreasing = NULL, concave = NULL, sensitivity = 1)
}
\arguments{
\item{x}{A numeric vector of x coordinates, strictly increasing or decreasing.}

\item{y}{A numeric vector of y coordinates, same length as `x`.}

\item{decreasing}{Logical, indicating if the curve is decreasing (TRUE) or
increasing (FALSE). If NULL, the function estimates the direction based on the
difference between the first and last y values (default: NULL).}

\item{concave}{Logical, indicating if the curve is concave (TRUE) or convex
(FALSE). If NULL, the function estimates concavity based on the average second
derivative of the data (default: NULL).}

\item{sensitivity}{Numeric, sensitivity for detecting the knee point. Higher
values make the algorithm more selective, requiring a stronger peak to identify
the knee (default: 1).}
}
\value{
A numeric vector of length 2 containing the x and y coordinates of the
  detected knee point. If no knee is found, returns `c(NA, NA)`.
}
\description{
This function implements the Kneedle algorithm to detect the "knee" or "elbow"
point in a curve, as described in Satopaa et al. (2011). The knee point is the
point of maximum curvature, often used to identify a transition in data behavior
(e.g., optimal clustering parameters). The algorithm normalizes the input data,
computes the difference between the curve and a reference line, and identifies
the knee based on peaks in the difference curve, adjusted by a sensitivity parameter.
}
\details{
The code is adapted from \url{https://github.com/etam4260/kneedle}.


The Kneedle algorithm, described in Satopaa et al. (2011), detects the knee point
by normalizing the input data to [0, 1], computing the difference between the
normalized curve and a reference line (x = y or x = 1 - y, depending on
direction and concavity), and identifying peaks in the difference curve. The first
peak exceeding a threshold (adjusted by `sensitivity`) is selected as the knee.
The function automatically estimates `decreasing` and `concave` if not specified,
using the slope from the first to last point and the average second derivative,
respectively.
}
\examples{
\dontrun{
# Example with synthetic data
x <- 1:10
y <- c(1, 2, 3, 4, 10, 20, 30, 40, 50, 60)
knee <- kneedle(x, y, sensitivity = 1)
plot(x, y, type = "l", main = "Knee Point Detection")
points(knee[1], knee[2], col = "red", pch = 19)
}
}
\references{
Satopaa, V., Albrecht, J., Irwin, D., & Raghavan, B. (2011). Finding a "Kneedle"
in a Haystack: Detecting Knee Points in System Behavior. *31st International
Conference on Distributed Computing Systems Workshops*, 166-171.
\doi{10.1109/ICDCSW.2011.20}
}
